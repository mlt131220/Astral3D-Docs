---
lang: zh-CN
title: glTF 处理器
createTime: 2025/02/20 15:13:36
permalink: /guide/plugin/builtin/jo87cfk0/
---

> 此插件提供了在 Web 端处理 glTF 文件的能力，主要能力如下：
>
> -   优化 glTF 文件：
>     -   a. 压缩模型数据(包括贴图材质与几何数据)，减少文件大小;
>     -   b. 网格顶点优化，减少顶点数量，提升渲染性能;
>     -   c. 实例化网格，减少渲染 DrawCall，提升渲染性能;
>     -   d. 压缩裁剪纹理贴图，减少内存占用，提升渲染性能;

<!-- > - 查看glTF文件构成：
>   - a. 显示glTF文件的结构，包括文件头、场景、节点、动画、材质、几何体等;
>   - b. 显示glTF文件中的贴图、几何体、动画等资源的属性信息; -->

## 面板

![glTF处理器](/images/plugin/glTFHandler/plane.jpg)

## 使用方法

#### 1. 点击面板顶部上传区域，选择 glTF 文件（相关文件不会上传至服务器，仅用于本地处理）；

#### 2. 修改配置选项或直接使用默认配置；

#### 3. 点击“优化”按钮，开始处理 glTF 文件，优化日志会实时显示在面板顶部（原上传文件区域）；

## 配置说明

| 配置项           | 描述                                                                                                                                                         | 值                                                     |
| ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------ |
| 压缩方式         | 网格浮点压缩方法<br/>Draco 压缩 geometry;<br/>Meshopt & Quantization 压缩 geometry 和 animation;                                                             | `Draco`&#124;`Meshopt`&#124;`Quantization`&#124;`None` |
| Meshopt 压缩级别 | 压缩方式选择`Meshopt`时需要选择压缩级别                                                                                                                      | `low`&#124;`medium`&#124;`high`                        |
| 实例化网格       | 使用 GPU 实例化技术共享网格引用，即生成`THREE.InstancedMesh`对象，减少 DrawCall                                                                              | `true`&#124;`false`                                    |
| 实例化网格界限   | 实例化网格所需的实例数,实例数低于该值的网格将不会实例化                                                                                                      | `min:2,max:Infinity`                                   |
| 展平场景树       | 将场景内子模型对象全部展平到场景根节点。<br/>开启合并网格时此项无法关闭                                                                                      | `true`&#124;`false`                                    |
| 合并网格         | 合并网格以减少渲染调用，合并后的网格无法单独选中。<br/>前置条件：开启展平场景树                                                                              | `true`&#124;`false`                                    |
| 合并纹理         | 创建调色板纹理并合并材质                                                                                                                                     | `true`&#124;`false`                                    |
| 合并纹理界限     | 合并纹理所需的纹理数,纹理数低于该值将不会合并                                                                                                                | `min:2,max:Infinity`                                   |
| 修剪             | 从文件中删除未被场景引用的属性                                                                                                                               | `true`&#124;`false`                                    |
| 修剪顶点         | 是否修剪未使用的顶点属性                                                                                                                                     | `true`&#124;`false`                                    |
| 修剪子节点       | 是否修剪空的叶子节点                                                                                                                                         | `true`&#124;`false`                                    |
| 修剪纹理         | 是否修剪实体(单色)纹理，将其转换为材质元素                                                                                                                   | `true`&#124;`false`                                    |
| 合并同位顶点     | 合并按位相同的顶点。合并和索引后，顶点之间的数据共享效率更高。文件大小可以减小，GPU 可以更高效地使用顶点缓存。<br/>开启简化网格时此项无法关闭                | `true`&#124;`false`                                    |
| 简化网格         | 基于`meshoptimizer`的简化算法，生成具有较少三角形和顶点的网格。简化是有损的，但该算法旨在针对给定的参数尽可能地保持视觉质量。<br/>前置条件：开启合并同位顶点 | `true`&#124;`false`                                    |
| 简化误差界限     | 简化网格误差容忍度，以网格尺寸的百分比表示                                                                                                                   | `min:0.01,max:100`                                     |
| 简化锁定边界     | 是否锁定网格的拓扑边界，拓扑结构（尤其是分割顶点）会限制简化器                                                                                               | `true`&#124;`false`                                    |
| 简化比率         | 要保留的顶点的比率（0-1）                                                                                                                                    | `min:0,max:1`                                          |
| 纹理压缩         | `AVIF`和`WebP`优化传输大小;<br/>`Auto`按原始格式进行压缩;                                                                                                    | `WebP`&#124;`AVIF`&#124;`Auto`&#124;`None`             |
| 纹理最大尺寸     | 超过该尺寸的纹理将被压缩,值一般为 2 的 N 次方                                                                                                                | `min:2,max:Infinity`                                   |

## 结果

![glTF优化结果](/images/plugin/glTFHandler/result.jpg)

![glTF优化文件对比](/images/plugin/glTFHandler/compare.jpg)

![glTF优化文件对比](/images/plugin/glTFHandler/compare2.jpg)
